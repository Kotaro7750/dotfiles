---
name: review-plan-with-codex
description: Planモードで計画を作成した後、OpenAI Codex CLIにレビューを依頼する。Planモード完了時に自動的に使用される。「codexにレビューして」「codexに計画を見てもらって」「codexでプランをチェックして」などの指示があった場合にも使用する。レビュー結果を受けてプランを修正する。
---

# Review Plan with Codex

Planモードで作成した計画をOpenAI Codex CLIにレビューしてもらい、フィードバックを受けてプランを改善するスキル。

レビュー観点は以下

1. 実装計画の妥当性・実現性
1. 設計上の問題点
1. エッジケースの考慮漏れ
1. より良いアプローチ・実装の提案
1. セキュリティ・パフォーマンス上の懸念点

## ワークフロー

### 1. ユーザー確認

Planモード完了後、レビューを実行する前に必ずユーザーに確認する：

```
計画が完成しました。Codexにレビューを依頼しますか？
```

ユーザーが承認した場合のみ次のステップに進む。

### 2. Codex CLIでレビュー実行

**基本コマンド:**

```bash
codex exec -c model_reasoning_effort='"high"' "以下の実装計画をレビューしてください。問題点、改善点、代替アプローチがあれば指摘してください。

レビュー観点:
ここにレビュー観点を箇条書きで記載

---
[計画内容]
---

"
```

**ファイル参照の場合:**

```bash
codex exec -c model_reasoning_effort='"high"' "/path/to/plan.md の実装計画をレビューしてください。問題点、改善点、代替アプローチがあれば指摘してください。

レビュー観点:
ここにレビュー観点を箇条書きで記載
"
```

### 3. レビュー結果の処理

Codexからのレビュー結果を受け取ったら：

1. レビュー内容をユーザーに報告する
2. 指摘された問題点を計画に反映する
3. 修正後の計画をユーザーに提示する

### 4. 計画の修正

レビューで指摘された内容に基づき、計画ファイルを更新する：

- 問題点の修正
- 不足していた考慮事項の追加
- 代替アプローチの検討結果を反映

## 注意事項

- レビュー実行前に必ずユーザーの承認を得る
- Codexのレビュー結果は参考意見として扱い、最終判断はユーザーと相談する
- 大幅な変更が必要な場合は、再度レビューを依頼することを検討する
